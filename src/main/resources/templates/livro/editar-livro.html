<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragmentos :: head('Editar Livro')}"></head>

<body>
	<header th:replace="~{fragmentos :: header}"></header>

	<style th:replace="~{fragmentos :: style}"></style>

	<style>
		.salvar, .cancelar{
			margin-top: 10px;
			margin-bottom: 15px;

		}

		form {
			margin-top: 15px;
			margin-left: 30px;
			margin-right: 30px;
		}

		.container {
			margin-top: 15px;
		}

	</style>
	<div class="container">
		<div class="card">
			<form method="POST" th:object="${dtoEditar}" th:action="@{'/livro/editar'}">
				<div class="form-group">
					<label for="input-id" class="form-label">ID</label>
					<input type="text" class="form-control" th:field="*{id}" readonly>
				</div>
				<div class="form-group">
					<label for="input-titulo" class="form-label">Titulo</label>
					<input type="text" class="form-control" th:field="*{titulo}" th:errorclass="is-invalid" />
					<div class="text text-danger" th:if="${#fields.hasErrors('titulo')}" th:errors="*{titulo}"></div>
				</div>
				<div class="form-group">
					<label for="input-decricao" class="form-label">Descrição</label>
					<textarea class="form-control" rows="2" id="descricao" th:field="*{descricao}"
						th:errorclass="is-invalid"></textarea>
					<div class="text text-danger" th:if="${#fields.hasErrors('descricao')}" th:errors="*{descricao}">
					</div>
				</div>
				<div class="row">
					<div class="col-md-auto">
						<div class="input-group mb-3">
							<div class="input-group-prepend">
								<span class="input-group-text">R$</span>
							</div>
							<input type="text" class="form-control" th:field="*{preco}" id="preco"
								th:errorclass="is-invalid" />
							<div class="text text-danger" th:if="${#fields.hasErrors('preco')}" th:errors="*{preco}">
							</div>
						</div>
					</div>
				</div>
				<button type="submit" class="btn btn-primary salvar">Salvar Alterações</button>
				<button type="button" th:onclick="cancelar()" class="btn btn-danger cancelar">Cancelar</button>

		</div>

		</form>
	</div>
	<footer th:replace="~{fragmentos :: footer}"></footer>

	<script th:replace="~{fragmentos :: script1}"></script>
	<script th:replace="~{fragmentos :: script2}"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.js"></script>
	<script>
		$('#preco').mask('#.##0,00', {reverse: true});

		function cancelar() {
			const link = "http://localhost:8080/livro/menu-livro";
			window.location.href = link;

		}

	</script>

</body>

</html>